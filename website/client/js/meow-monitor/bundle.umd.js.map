{"version":3,"file":"bundle.umd.js","sources":["../../../../meow-sdk/perform.js","../../../../meow-sdk/index.js"],"sourcesContent":["export default {\r\n  init: cb => {\r\n    // cb();\r\n    let isDOMReady = false;\r\n    let isOnload = false;\r\n    let Util = {\r\n      getPerfData: p => {\r\n        let data = {\r\n          // network connecting\r\n          prePage: p.fetchStart - p.navigationStart,\r\n          redirect: p.redirectEnd - p.redirectStart,\r\n          dns: p.domainLookupEnd - p.domainLookupStart,\r\n          connect: p.connectEnd - p.connectStart,\r\n          network: p.connectEnd - p.navigationStart,\r\n\r\n          // network response\r\n          send: p.responseStart - p.requestStart,\r\n          receive: p.responseEnd - p.responseStart,\r\n          request: p.responseEnd - p.requestStart,\r\n\r\n          // front-end rendor\r\n          dom: p.domComplete - p.domLoading,\r\n          loadEvent: p.loadEventEnd - p.loadEventStart,\r\n          frontend: p.loadEventEnd - p.domLoading,\r\n\r\n          // key phrase\r\n          load: p.loadEventEnd - p.navigationStart,\r\n          domReady: p.domContentLoadedEventStart - p.navigationStart,\r\n          interactive: p.domInteractive - p.navigationStart, // 可操作时间\r\n          ttfb: p.responseStart - p.navigationStart // 首字节时间\r\n        };\r\n        return data;\r\n      },\r\n      domReady: callback => {\r\n        if (isDOMReady === true) {\r\n          return void 0;\r\n        }\r\n        let timer = null;\r\n        let runCheck = () => {\r\n          if (performance.domComplete) {\r\n            clearTimeout(timer);\r\n            callback();\r\n            isDOMReady = true;\r\n          } else {\r\n            timer = setTimeout(runCheck, 100);\r\n          }\r\n        };\r\n        if (document.readyState === 'interactive') {\r\n          callback();\r\n          return void 0;\r\n        }\r\n        document.addEventListener('DOMContentLoaded', () => {\r\n          // 循环检测DOMContentLoaded的完成情况\r\n          runCheck();\r\n        });\r\n      },\r\n      onload: callback => {\r\n        if (isOnload === true) {\r\n          return void 0;\r\n        }\r\n        let timer = null;\r\n        let runCheck = () => {\r\n          if (performance.loadEventEnd) {\r\n            clearTimeout(timer);\r\n            callback();\r\n            isOnload = true;\r\n          } else {\r\n            timer = setTimeout(runCheck, 100);\r\n          }\r\n        };\r\n        if (document.readyState === 'interactive') {\r\n          callback();\r\n          return void 0;\r\n        }\r\n        window.addEventListener('load', () => {\r\n          // 循环检测DOMContentLoaded的完成情况\r\n          runCheck();\r\n        });\r\n      }\r\n    };\r\n    let performance = window.performance.timing;\r\n    Util.domReady(() => {\r\n      let perfData = Util.getPerfData(performance);\r\n      perfData.type = 'domready';\r\n      cb(perfData);\r\n    });\r\n    Util.onload(() => {\r\n      let perfData = Util.getPerfData(performance);\r\n      perfData.type = 'onload';\r\n      cb(perfData);\r\n    });\r\n  }\r\n};\r\n\r\n/*\r\nTODO: 剔除异常数据\r\n*/\r\n","import perform from './perform.js';\r\n\r\nperform.init(() => {\r\n  console.log('perform init');\r\n});\r\nconsole.log('hi 123');\r\n"],"names":[],"mappings":";;;;;AAAA,gBAAe;EACf,EAAE,IAAI,EAAE,EAAE,IAAI;EACd;EACA,IAAI,IAAI,UAAU,GAAG,KAAK,CAAC;EAC3B,IAAI,IAAI,QAAQ,GAAG,KAAK,CAAC;EACzB,IAAI,IAAI,IAAI,GAAG;EACf,MAAM,WAAW,EAAE,CAAC,IAAI;EACxB,QAAQ,IAAI,IAAI,GAAG;EACnB;EACA,UAAU,OAAO,EAAE,CAAC,CAAC,UAAU,GAAG,CAAC,CAAC,eAAe;EACnD,UAAU,QAAQ,EAAE,CAAC,CAAC,WAAW,GAAG,CAAC,CAAC,aAAa;EACnD,UAAU,GAAG,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC,iBAAiB;EACtD,UAAU,OAAO,EAAE,CAAC,CAAC,UAAU,GAAG,CAAC,CAAC,YAAY;EAChD,UAAU,OAAO,EAAE,CAAC,CAAC,UAAU,GAAG,CAAC,CAAC,eAAe;;EAEnD;EACA,UAAU,IAAI,EAAE,CAAC,CAAC,aAAa,GAAG,CAAC,CAAC,YAAY;EAChD,UAAU,OAAO,EAAE,CAAC,CAAC,WAAW,GAAG,CAAC,CAAC,aAAa;EAClD,UAAU,OAAO,EAAE,CAAC,CAAC,WAAW,GAAG,CAAC,CAAC,YAAY;;EAEjD;EACA,UAAU,GAAG,EAAE,CAAC,CAAC,WAAW,GAAG,CAAC,CAAC,UAAU;EAC3C,UAAU,SAAS,EAAE,CAAC,CAAC,YAAY,GAAG,CAAC,CAAC,cAAc;EACtD,UAAU,QAAQ,EAAE,CAAC,CAAC,YAAY,GAAG,CAAC,CAAC,UAAU;;EAEjD;EACA,UAAU,IAAI,EAAE,CAAC,CAAC,YAAY,GAAG,CAAC,CAAC,eAAe;EAClD,UAAU,QAAQ,EAAE,CAAC,CAAC,0BAA0B,GAAG,CAAC,CAAC,eAAe;EACpE,UAAU,WAAW,EAAE,CAAC,CAAC,cAAc,GAAG,CAAC,CAAC,eAAe;EAC3D,UAAU,IAAI,EAAE,CAAC,CAAC,aAAa,GAAG,CAAC,CAAC,eAAe;EACnD,SAAS,CAAC;EACV,QAAQ,OAAO,IAAI,CAAC;EACpB,OAAO;EACP,MAAM,QAAQ,EAAE,QAAQ,IAAI;EAC5B,QAAQ,IAAI,UAAU,KAAK,IAAI,EAAE;EACjC,UAAU,OAAO,KAAK,CAAC,CAAC;EACxB,SAAS;EACT,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC;EACzB,QAAQ,IAAI,QAAQ,GAAG,MAAM;EAC7B,UAAU,IAAI,WAAW,CAAC,WAAW,EAAE;EACvC,YAAY,YAAY,CAAC,KAAK,CAAC,CAAC;EAChC,YAAY,QAAQ,EAAE,CAAC;EACvB,YAAY,UAAU,GAAG,IAAI,CAAC;EAC9B,WAAW,MAAM;EACjB,YAAY,KAAK,GAAG,UAAU,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;EAC9C,WAAW;EACX,SAAS,CAAC;EACV,QAAQ,IAAI,QAAQ,CAAC,UAAU,KAAK,aAAa,EAAE;EACnD,UAAU,QAAQ,EAAE,CAAC;EACrB,UAAU,OAAO,KAAK,CAAC,CAAC;EACxB,SAAS;EACT,QAAQ,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,MAAM;EAC5D;EACA,UAAU,QAAQ,EAAE,CAAC;EACrB,SAAS,CAAC,CAAC;EACX,OAAO;EACP,MAAM,MAAM,EAAE,QAAQ,IAAI;EAC1B,QAAQ,IAAI,QAAQ,KAAK,IAAI,EAAE;EAC/B,UAAU,OAAO,KAAK,CAAC,CAAC;EACxB,SAAS;EACT,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC;EACzB,QAAQ,IAAI,QAAQ,GAAG,MAAM;EAC7B,UAAU,IAAI,WAAW,CAAC,YAAY,EAAE;EACxC,YAAY,YAAY,CAAC,KAAK,CAAC,CAAC;EAChC,YAAY,QAAQ,EAAE,CAAC;EACvB,YAAY,QAAQ,GAAG,IAAI,CAAC;EAC5B,WAAW,MAAM;EACjB,YAAY,KAAK,GAAG,UAAU,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;EAC9C,WAAW;EACX,SAAS,CAAC;EACV,QAAQ,IAAI,QAAQ,CAAC,UAAU,KAAK,aAAa,EAAE;EACnD,UAAU,QAAQ,EAAE,CAAC;EACrB,UAAU,OAAO,KAAK,CAAC,CAAC;EACxB,SAAS;EACT,QAAQ,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAE,MAAM;EAC9C;EACA,UAAU,QAAQ,EAAE,CAAC;EACrB,SAAS,CAAC,CAAC;EACX,OAAO;EACP,KAAK,CAAC;EACN,IAAI,IAAI,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC;EAChD,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM;EACxB,MAAM,IAAI,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;EACnD,MAAM,QAAQ,CAAC,IAAI,GAAG,UAAU,CAAC;EACjC,MAAM,EAAE,CAAC,QAAQ,CAAC,CAAC;EACnB,KAAK,CAAC,CAAC;EACP,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM;EACtB,MAAM,IAAI,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;EACnD,MAAM,QAAQ,CAAC,IAAI,GAAG,QAAQ,CAAC;EAC/B,MAAM,EAAE,CAAC,QAAQ,CAAC,CAAC;EACnB,KAAK,CAAC,CAAC;EACP,GAAG;EACH,CAAC,CAAC;;EAEF;EACA;EACA,EAAE;;EC9FF,OAAO,CAAC,IAAI,CAAC,MAAM;EACnB,EAAE,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;EAC9B,CAAC,CAAC,CAAC;EACH,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;;;;"}